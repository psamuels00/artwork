---
layout: layouts/portfolio.html
pagination:
  data: projects.structured
  size: 1
  alias: project
permalink: "portfolio/{{ project.name | slug }}/"
---

<div class="flex my-4 mb-4 md:mb-8 lg:my-8">
  <a href="{{'/portfolio/' | url}}{{project.name | slug}}/{{project.images[0] | rmFileExt}}/">
    {% set src = '/images/portfolio/' + project.name.replace(' ', '') + '/' + project.images[0] %}
    <img class="border hover:brightness-90" src="{{src | url}}"/>
  </a>
</div>

<div class="hidden info-box-show flex flex-col hover:bg-stone-100 md:my-3 lg:mb-6 py-2 px-4 rounded-lg">
  <button class="info-button-show flex justify-end hover:bg-stone-100">
    Show Info
  </button>
</div>

<div class="info-box flex flex-col bg-stone-100 md:my-3 lg:mb-6 py-2 px-4 rounded-lg">
  <button class="info-button flex justify-end hover:bg-stone-100">
    Hide Info
  </button>
  {% set fields = [
    ['title', 'title'],
    ['description', 'descr'],
    ['category', 'category'],
    ['date', 'date'],
    ['location', 'location'],
    ['medium', 'medium'],
    ['dimensions', 'size']
  ] %}

  {% for field in fields %}
    <div class="hidden my-1 sm:flex flex-row gap-3">
      <p class="w-1/4 md:w-1/3 mb-1 text-right font-medium">{{field[0] | title}}:</p>
      <p class="w-3/4 md:w-2/3 mb-1 text-left">{{project[field[0]]}}</p>
    </div>
  {% endfor %}

  {% for field in fields %}
    <div class="sm:hidden my-1 flex flex-row gap-3">
      <p class="w-1/4 md:w-1/3 mb-1 text-right font-medium">{{field[1] | title}}:</p>
      <p class="w-3/4 md:w-2/3 mb-1 text-left">{{project[field[0]]}}</p>
    </div>
  {% endfor %}

</div>

<script type="text/javascript">
  (function() {
    const btn = document.querySelector("button.info-button");
    const info = document.querySelector(".info-box");

    btn.addEventListener("click", () => {
      info.classList.toggle("hidden");
      info_show.classList.toggle("hidden");
    });

    const btn_show = document.querySelector("button.info-button-show");
    const info_show = document.querySelector(".info-box-show");

    btn_show.addEventListener("click", () => {
      info.classList.toggle("hidden");
      info_show.classList.toggle("hidden");
    });
  })()
</script>

<div class="flex">
  <div class="flex flex-col gap-8 mt-4 md:grid md:grid-cols-2">
    {% for name in project.images %}
      {% if not loop.first %}
        <a href="{{'/portfolio/' | url}}{{project.name | slug}}/{{name | rmFileExt}}/">
          {% set src = '/images/portfolio/' + project.name.replace(' ', '') + '/' + name %}
          <img class="border hover:brightness-90" src="{{src | url}}"/>
        </a>
      {% endif -%}
    {% endfor -%}
  </div>
</div>