---
layout: 'layouts/base.html'
---

{% import "snippets/svg.html" as macros %}

<div class="flex flex-col h-screen">

  <a href="/doodles/{{category}}/">
    <div class="flex justify-between items-center p-2 hover:bg-stone-100 hover:brightness-95">
      <!-- Empty space, same width as "X" -->
      <svg width="48" height="48" />

      <div class="mx-auto text-3xl font-light">
        {{ category | capitalize }}
      </div>

      <!-- An "X" -->
      {{ macros.svgPath("text-stone-400", 48, 48, 4, "M6 6L42 42M6 42L42 6") }}
    </div>
  </a>

  <div class="flex mx-auto gap-2">
    <a href="{{first}}">
      <button class="bg-stone-100 hover:bg-stone-200 text-stone-800 py-2 px-3">
        First
      </button>
    </a>
    <a href="{{prev}}">
      <button class="bg-stone-100 hover:bg-stone-200 text-stone-800 py-2 px-3">
        Prev
      </button>
    </a>
    <a href="{{next}}">
      <button class="bg-stone-100 hover:bg-stone-200 text-stone-800 py-2 px-3">
        Next
      </button>
    </a>
    <a href="{{last}}">
      <button class="bg-stone-100 hover:bg-stone-200 text-stone-800 py-2 px-3">
        Last
      </button>
    </a>
  </div>

  <div class="text-center text-lg font-extralight pt-3">
    {{ title }}
  </div>

  <div class="overflow-hidden">
    <a href="/images/{{curr}}">
      <img class="p-1 sm:p-2 lg:p-4
                  max-h-fit_in_viewport_single
                  sm:max-h-fit_in_viewport_single_sm
                  mx-auto"
           src="/images/{{curr}}" />
    </a>
  </div>

</div>

<script type="text/javascript">
  function gotoPrev() {
    {% if prev %}
      window.location.href = '{{prev | url}}'
    {% endif %}
  }

  function gotoNext() {
    {% if next %}
      window.location.href = '{{next | url}}'
    {% endif %}
  }

  swipeLeftRight(gotoPrev, gotoNext);

  document.addEventListener('keydown', function (event) {
    if (event.key === 'Escape' || event.key === 'ArrowUp') {
        event.preventDefault();
        window.location.href = '../'
    }

    if (event.key === 'ArrowLeft') {
      gotoPrev();
    }

    if (event.key === 'ArrowRight') {
      gotoNext();
    }
  });
</script>
