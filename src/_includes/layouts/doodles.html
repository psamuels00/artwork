---
layout: 'layouts/page.html'
---

{% import "snippets/svg.html" as macros %}


{% set menu_items = [
  'abstract',
  'animals',
  'faces',
  'flowers',
  'outdoors',
  'people',
  'stills',
  'textures',
  'wacky'
] %}


{% macro menu(extraClass) %}
  {% for name in menu_items %}
    {# href #}
    {% set href = '/doodles/' + name + '/' %}

    {# class #}
    {% set class = extraClass + ' ' + (item.color.menu.hover | default('hover:bg-stone-200')) %}
    {% if page.url.startsWith(href) %}
      {% set class = class + ' ' + (item.color.menu.current | default('bg-stone-300')) %}
    {% endif %}

    <a href="{{href}}" class="{{class}}">{{name | capitalize}}</a>
  {% endfor %}
{% endmacro %}


<div class="text-center px-2">

  <!-- mobile-first, responsive navigation -->
  <nav>
    <div class="lg:hidden">
      <!-- 🍔 menu button -->
      <div class="flex justify-end items-center">
        <div class="p-2">
          {% if category.name %}
            <span class="mx-2">{{x_in_x_of_y}}/{{y_in_x_of_y}}</span>
            {{ category.name }}
          {% else %}
            <!-- Scroll down or select a category &rarr; -->
          {% endif %}
        </div>

        <button class="mobile-doodles-menu-button flex p-2 gap-4 hover:bg-stone-100" aria-label="Doodles menu">
          {{ macros.svgPath("w-6", 24, 24, 2, "M4 6h16M4 12h16M4 18h16") }} <!-- 🍔 -->
        </button>
      </div>

      <!-- mobile menu -->
      <div class="mobile-doodles-menu hidden flex flex-col text-center">
        {{ menu('py-3 px-4 border-y border-gray-200') }}
      </div>
    </div>

    <div class="hidden lg:block mb-6 mt-4">
      <!-- primary menu -->
      <div class="min-w-fit mx-auto">
        <div class="flex justify-center">
          <div class="flex text-sm font-extralight">
            {{ menu('py-3 px-4 transition-colors duration-300') }}
          </div>
        </div>
      </div>
    </div>
  </nav>

  <script type="text/javascript">
    (function() {
      const btn = document.querySelector("button.mobile-doodles-menu-button");
      const menu = document.querySelector(".mobile-doodles-menu");

      btn.addEventListener("click", () => {
        menu.classList.toggle("hidden");
      });
    })()
  </script>

  <div class="main_content">
    {% block content %}
      {{ content | safe }}
    {% endblock %}
  </div>

</div>
