---
layout: 'layouts/base.html'
pagination:
  data: projects.flat
  size: 1
  alias: item
permalink: "portfolio/{{ item.name | slug }}/{{ item.image | rmFileExt }}/"
---

<div class="flex flex-col h-screen">
  <a href="/portfolio/{{item.name | slug}}/">
    <div class="flex justify-between items-center p-2 hover:bg-stone-100">
      <!-- Empty space, same width as "X" -->
      <svg width="48" height="48" />

      <div class="mx-auto text-3xl font-light">
        {{ item.title }}
      </div>

      <!-- An "X" -->
      <svg class="text-stone-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 48 48" width="48" height="48" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M6 6L42 42M6 42L42 6"/>
      </svg>
    </div>
  </a>

  <div class="flex mx-auto gap-2">
    <a href="/portfolio/{{item.name | slug}}/{{item.image_first | rmFileExt}}/">
      <button class="bg-stone-100 hover:bg-stone-200 text-stone-800 py-2 px-3 {% if item.image_prev === '' %}opacity-50 cursor-not-allowed{% endif %}">
        First
      </button>
    </a>
    <a href="/portfolio/{{item.name | slug}}/{{item.image_prev | rmFileExt}}/">
      <button class="bg-stone-100 hover:bg-stone-200 text-stone-800 py-2 px-3 {% if item.image_prev === '' %}opacity-50 cursor-not-allowed{% endif %}">
        Prev
      </button>
    </a>
    <a href="/portfolio/{{item.name | slug}}/{{item.image_next | rmFileExt}}/">
      <button class="bg-stone-100 hover:bg-stone-200 text-stone-800 py-2 px-3 {% if item.image_next === '' %}opacity-50 cursor-not-allowed{% endif %}">
        Next
      </button>
    </a>
    <a href="/portfolio/{{item.name | slug}}/{{item.image_last | rmFileExt}}/">
      <button class="bg-stone-100 hover:bg-stone-200 text-stone-800 py-2 px-3 {% if item.image_next === '' %}opacity-50 cursor-not-allowed{% endif %}">
        Last
      </button>
    </a>
  </div>

  <div class="text-center text-lg font-extralight pt-3">
    {{ item.image | cleanupHack | rmFileExt | replace(r/([a-z])([A-Z])/g, "$1 $2")}}
  </div>

  <div class="flex-grow mx-auto">
    <img class="p-2 Xsm:w-3/4 Xmd:w-1/2 mx-auto" src="/images/portfolio/{{item.name | replace(' ', '')}}/{{item.image}}"/>
  </div>
</div>

<script type="text/javascript">
  document.addEventListener('keydown', function (event) {
    if (event.key === 'Escape' || event.key === 'ArrowUp') {
      event.preventDefault();
      window.location.href = '../'
    }

    {% if item.image_prev %}
      if (event.key === 'ArrowLeft') {
        event.preventDefault();
        window.location.href = '{{'/portfolio/' | url}}{{item.name | slug}}/{{item.image_prev | rmFileExt}}/'
      }
    {% endif %}

    {% if item.image_next %}
      if (event.key === 'ArrowRight') {
        event.preventDefault();
        window.location.href = '{{'/portfolio/' | url}}{{item.name | slug}}/{{item.image_next | rmFileExt}}/'
      }
    {% endif %}
  });
</script>
